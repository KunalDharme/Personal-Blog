<!DOCTYPE html>
<html>
<head>
  <title>New Blog Post</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #121212;
      color: #eee;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 800px;
      margin: 50px auto;
      padding: 30px;
      background-color: #1e1e1e;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.7);
    }

    h2 {
      color: #00ff99;
      text-align: center;
      margin-bottom: 25px;
      text-shadow: 0 0 10px #00ff99;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    label {
      font-weight: bold;
      font-size: 1.1rem;
      color: #00ff99;
    }

    .help-text {
      font-size: 0.9rem;
      color: #888;
      margin-top: -15px;
      margin-bottom: 5px;
    }

    input[type="text"],
    textarea {
      background-color: #292929;
      border: none;
      border-radius: 6px;
      padding: 12px 15px;
      color: #eee;
      font-size: 1rem;
      resize: vertical;
      box-shadow: 0 0 5px rgba(0, 255, 153, 0.4);
      transition: box-shadow 0.3s ease;
      line-height: 1.6;
    }

    input[type="text"]:focus,
    textarea:focus {
      outline: none;
      box-shadow: 0 0 10px #00ff99;
      background-color: #333333;
    }

    textarea {
      min-height: 200px;
    }

    .content-wrapper {
      position: relative;
    }

    .emoji-section {
      background-color: #2a2a2a;
      border-radius: 8px;
      padding: 15px;
      margin-bottom: 10px;
      border: 1px solid #444;
    }

    .emoji-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }

    .emoji-title {
      color: #00ff99;
      font-size: 1rem;
      font-weight: bold;
    }

    .emoji-toggle {
      background: #00ff99;
      color: #121212;
      border: none;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: bold;
    }

    .emoji-toggle:hover {
      background: #00cc77;
    }

    .emoji-categories {
      display: flex;
      gap: 10px;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .emoji-category {
      background: #444;
      color: #eee;
      border: none;
      padding: 8px 12px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.2s ease;
    }

    .emoji-category:hover,
    .emoji-category.active {
      background: #00ff99;
      color: #121212;
    }

    .emoji-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
      gap: 8px;
      max-height: 200px;
      overflow-y: auto;
      padding: 10px;
      background: #333;
      border-radius: 6px;
    }

    .emoji-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      padding: 8px;
      border-radius: 4px;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .emoji-btn:hover {
      background: #555;
      transform: scale(1.2);
    }

    .emoji-search {
      width: 100%;
      background: #333;
      border: 1px solid #555;
      color: #eee;
      padding: 8px 12px;
      border-radius: 6px;
      margin-bottom: 10px;
      font-size: 0.9rem;
    }

    .emoji-search:focus {
      outline: none;
      border-color: #00ff99;
    }

    .emoji-grid::-webkit-scrollbar {
      width: 6px;
    }

    .emoji-grid::-webkit-scrollbar-track {
      background: #2a2a2a;
      border-radius: 3px;
    }

    .emoji-grid::-webkit-scrollbar-thumb {
      background: #00ff99;
      border-radius: 3px;
    }

    button[type="submit"] {
      background-color: #00ff99;
      border: none;
      border-radius: 6px;
      padding: 15px;
      font-size: 1.2rem;
      font-weight: bold;
      color: #121212;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button[type="submit"]:hover {
      background-color: #00cc77;
      color: #fff;
    }

    .back-button {
      position: absolute;
      top: 60px;
      left: 80px;
      color: #00ff99;
      background-color: transparent;
      border: 0.5px solid #00ff99;
      padding: 8px 15px;
      border-radius: 25px;
      font-weight: bold;
      text-decoration: none;
      transition: 0.3s ease;
      box-shadow: 0 0 4px #00ff99;
    }

    .back-button:hover {
      background-color: #00ff99;
      color: #121212;
      text-shadow: none;
    }

    .preview-section {
      background-color: #292929;
      border-radius: 6px;
      padding: 15px;
      margin-top: 10px;
      border-left: 4px solid #00ff99;
    }

    .preview-title {
      color: #00ff99;
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .preview-content {
      color: #ccc;
      line-height: 1.6;
    }

    .emoji-recent {
      background: #444;
      border-radius: 6px;
      padding: 10px;
      margin-bottom: 10px;
    }

    .emoji-recent-title {
      color: #00ff99;
      font-size: 0.9rem;
      margin-bottom: 8px;
    }

    .emoji-recent-list {
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }
  </style>
</head>
<body>
  <a href="{{ url_for('admin.dashboard') }}" class="back-button">‚Üê Go Back</a>

  <div class="container">
    <h2>{{ 'Edit Post' if post else 'Create New Post' }}</h2>
    <form method="POST">
      <label>Title:</label>
      <input type="text" name="title" required value="{{ post.title if post else '' }}" id="title-input">
      
      <label>Slug (URL):</label>
      <div class="help-text">This will be used in the URL. Leave blank to auto-generate.</div>
      <input type="text" name="slug" value="{{ post.slug if post else '' }}" id="slug-input">
      
      <label>Content:</label>
      <div class="help-text">
        Use the emoji picker below to add emojis to your content. Double line breaks create paragraphs.
      </div>
      
      <div class="content-wrapper">
        <!-- Emoji Picker Section -->
        <div class="emoji-section" id="emoji-section">
          <div class="emoji-header">
            <span class="emoji-title">üé® Emoji Picker</span>
            <button type="button" class="emoji-toggle" onclick="toggleEmojiPicker()">
              <span id="emoji-toggle-text">Hide</span>
            </button>
          </div>
          
          <div id="emoji-picker" style="display: block;">
            <!-- Recent Emojis -->
            <div class="emoji-recent" id="recent-section" style="display: none;">
              <div class="emoji-recent-title">Recently Used:</div>
              <div class="emoji-recent-list" id="recent-emojis"></div>
            </div>
            
            <!-- Search -->
            <input type="text" class="emoji-search" placeholder="Search emojis..." id="emoji-search">
            
            <!-- Categories -->
            <div class="emoji-categories">
              <button type="button" class="emoji-category active" data-category="smileys">üòÄ Smileys</button>
              <button type="button" class="emoji-category" data-category="people">üë• People</button>
              <button type="button" class="emoji-category" data-category="nature">üåø Nature</button>
              <button type="button" class="emoji-category" data-category="food">üçï Food</button>
              <button type="button" class="emoji-category" data-category="activities">‚öΩ Activities</button>
              <button type="button" class="emoji-category" data-category="travel">‚úàÔ∏è Travel</button>
              <button type="button" class="emoji-category" data-category="objects">üì± Objects</button>
              <button type="button" class="emoji-category" data-category="symbols">‚ù§Ô∏è Symbols</button>
            </div>
            
            <!-- Emoji Grid -->
            <div class="emoji-grid" id="emoji-grid"></div>
          </div>
        </div>
        
        <textarea name="content" rows="15" required id="content-input">{{ post.content if post else '' }}</textarea>
      </div>
      
      <div class="preview-section" id="preview-section" style="display: none;">
        <div class="preview-title">Preview:</div>
        <div class="preview-content" id="preview-content"></div>
      </div>
      
      <button type="submit">{{ 'Update Post' if post else 'Publish Post' }}</button>
    </form>
  </div>

  <script>
    // Emoji data by category
    const emojiData = {
      smileys: ['üòÄ', 'üòÉ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá', 'üôÇ', 'üôÉ', 'üòâ', 'üòå', 'üòç', 'ü•∞', 'üòò', 'üòó', 'üòô', 'üòö', 'üòã', 'üòõ', 'üòù', 'üòú', 'ü§™', 'ü§®', 'üßê', 'ü§ì', 'üòé', 'ü§©', 'ü•≥', 'üòè', 'üòí', 'üòû', 'üòî', 'üòü', 'üòï', 'üôÅ', '‚òπÔ∏è', 'üò£', 'üòñ', 'üò´', 'üò©', 'ü•∫', 'üò¢', 'üò≠', 'üò§', 'üò†', 'üò°', 'ü§¨', 'ü§Ø', 'üò≥', 'ü•µ', 'ü•∂', 'üò±', 'üò®', 'üò∞', 'üò•', 'üòì'],
      people: ['üë∂', 'üßí', 'üë¶', 'üëß', 'üßë', 'üë±', 'üë®', 'üßî', 'üë©', 'üßì', 'üë¥', 'üëµ', 'üôç', 'üôé', 'üôÖ', 'üôÜ', 'üíÅ', 'üôã', 'üßè', 'üôá', 'ü§¶', 'ü§∑', 'üëÆ', 'üïµÔ∏è', 'üíÇ', 'üë∑', 'ü§¥', 'üë∏', 'üë≥', 'üë≤', 'üßï', 'ü§µ', 'üë∞', 'ü§∞', 'ü§±', 'üëº', 'üéÖ', 'ü§∂', 'ü¶∏', 'ü¶π', 'üßô', 'üßö', 'üßõ', 'üßú', 'üßù', 'üßû', 'üßü', 'üíÜ', 'üíá', 'üö∂', 'üèÉ', 'üíÉ', 'üï∫', 'üï¥Ô∏è', 'üëØ', 'üßñ', 'üßó', 'ü§∫', 'üèá', '‚õ∑Ô∏è', 'üèÇ', 'üèåÔ∏è', 'üèÑ', 'üö£', 'üèä', '‚õπÔ∏è', 'üèãÔ∏è', 'üö¥', 'üöµ', 'ü§∏', 'ü§º', 'ü§Ω', 'ü§æ', 'ü§π', 'üßò', 'üõÄ', 'üõå'],
      nature: ['üê∂', 'üê±', 'üê≠', 'üêπ', 'üê∞', 'ü¶ä', 'üêª', 'üêº', 'üê®', 'üêØ', 'ü¶Å', 'üêÆ', 'üê∑', 'üêΩ', 'üê∏', 'üêµ', 'üôà', 'üôâ', 'üôä', 'üêí', 'üêî', 'üêß', 'üê¶', 'üê§', 'üê£', 'üê•', 'ü¶Ü', 'ü¶Ö', 'ü¶â', 'ü¶á', 'üê∫', 'üêó', 'üê¥', 'ü¶Ñ', 'üêù', 'üêõ', 'ü¶ã', 'üêå', 'üêû', 'üêú', 'ü¶ü', 'ü¶ó', 'üï∑Ô∏è', 'üï∏Ô∏è', 'ü¶Ç', 'üê¢', 'üêç', 'ü¶é', 'ü¶ñ', 'ü¶ï', 'üêô', 'ü¶ë', 'ü¶ê', 'ü¶û', 'ü¶Ä', 'üê°', 'üê†', 'üêü', 'üê¨', 'üê≥', 'üêã', 'ü¶à', 'üêä', 'üêÖ', 'üêÜ', 'ü¶ì', 'ü¶ç', 'ü¶ß', 'üêò', 'ü¶õ', 'ü¶è', 'üê™', 'üê´', 'ü¶í', 'ü¶ò', 'üêÉ', 'üêÇ', 'üêÑ', 'üêé', 'üêñ', 'üêè', 'üêë', 'ü¶ô', 'üêê', 'ü¶å', 'üêï', 'üê©', 'üêà', 'üêì', 'ü¶É', 'ü¶ö', 'ü¶ú', 'ü¶¢', 'üïäÔ∏è', 'üêá', 'ü¶ù', 'ü¶®', 'ü¶°', 'ü¶¶', 'ü¶•', 'üêÅ', 'üêÄ', 'üêøÔ∏è', 'üå≤', 'üå≥', 'üå¥', 'üåµ', 'üå∂Ô∏è', 'üçÑ', 'üåæ', 'üíê', 'üå∑', 'üåπ', 'ü•Ä', 'üå∫', 'üå∏', 'üåº', 'üåª', 'üåû', 'üåù', 'üåõ', 'üåú', 'üåö', 'üåï', 'üåñ', 'üåó', 'üåò', 'üåë', 'üåí', 'üåì', 'üåî', 'üåô', 'üåé', 'üåç', 'üåè', 'üí´', '‚≠ê', 'üåü', '‚ú®', '‚ö°', '‚òÑÔ∏è', 'üí•', 'üî•', 'üå™Ô∏è', 'üåà', '‚òÄÔ∏è', 'üå§Ô∏è', '‚õÖ', 'üå¶Ô∏è', 'üåßÔ∏è', '‚õàÔ∏è', 'üå©Ô∏è', 'üå®Ô∏è', '‚ùÑÔ∏è', '‚òÉÔ∏è', '‚õÑ', 'üå¨Ô∏è', 'üí®', 'üíß', 'üí¶', '‚òî', 'üåä'],
      food: ['üçè', 'üçé', 'üçê', 'üçä', 'üçã', 'üçå', 'üçâ', 'üçá', 'üçì', 'üçà', 'üçí', 'üçë', 'ü•≠', 'üçç', 'ü••', 'ü•ù', 'üçÖ', 'üçÜ', 'ü•ë', 'ü•¶', 'ü•í', 'ü•¨', 'üå∂Ô∏è', 'üåΩ', 'ü•ï', 'üßÑ', 'üßÖ', 'ü•î', 'üç†', 'ü•ê', 'ü•Ø', 'üçû', 'ü•ñ', 'ü•®', 'üßÄ', 'ü•ö', 'üç≥', 'üßà', 'ü•û', 'üßá', 'ü•ì', 'ü•©', 'üçó', 'üçñ', 'üå≠', 'üçî', 'üçü', 'üçï', 'ü•™', 'ü•ô', 'üßÜ', 'üåÆ', 'üåØ', 'ü•ó', 'ü•ò', 'ü•´', 'üçù', 'üçú', 'üç≤', 'üçõ', 'üç£', 'üç±', 'ü•ü', 'ü¶™', 'üç§', 'üçô', 'üçö', 'üçò', 'üç•', 'ü•†', 'ü•Æ', 'üç¢', 'üç°', 'üçß', 'üç®', 'üç¶', 'ü•ß', 'üßÅ', 'üç∞', 'üéÇ', 'üçÆ', 'üç≠', 'üç¨', 'üç´', 'üçø', 'üç©', 'üç™', 'üå∞', 'ü•ú', 'üçØ', 'ü•õ', 'üçº', '‚òï', 'üçµ', 'üßÉ', 'ü•§', 'üç∂', 'üç∫', 'üçª', 'ü•Ç', 'üç∑', 'ü•É', 'üç∏', 'üçπ', 'üßâ', 'üçæ'],
      activities: ['‚öΩ', 'üèÄ', 'üèà', '‚öæ', 'ü•é', 'üéæ', 'üèê', 'üèâ', 'ü•è', 'üé±', 'ü™Ä', 'üèì', 'üè∏', 'üèí', 'üèë', 'ü•ç', 'üèè', 'ü™É', 'ü•Ö', '‚õ≥', 'ü™Å', 'üèπ', 'üé£', 'ü§ø', 'ü•ä', 'ü•ã', 'üéΩ', 'üõπ', 'üõ∑', '‚õ∏Ô∏è', 'ü•å', 'üéø', '‚õ∑Ô∏è', 'üèÇ', 'ü™Ç', 'üèãÔ∏è‚Äç‚ôÄÔ∏è', 'üèãÔ∏è‚Äç‚ôÇÔ∏è', 'ü§º‚Äç‚ôÄÔ∏è', 'ü§º‚Äç‚ôÇÔ∏è', 'ü§∏‚Äç‚ôÄÔ∏è', 'ü§∏‚Äç‚ôÇÔ∏è', '‚õπÔ∏è‚Äç‚ôÄÔ∏è', '‚õπÔ∏è‚Äç‚ôÇÔ∏è', 'ü§∫', 'ü§æ‚Äç‚ôÄÔ∏è', 'ü§æ‚Äç‚ôÇÔ∏è', 'üèåÔ∏è‚Äç‚ôÄÔ∏è', 'üèåÔ∏è‚Äç‚ôÇÔ∏è', 'üèá', 'üßò‚Äç‚ôÄÔ∏è', 'üßò‚Äç‚ôÇÔ∏è', 'üèÑ‚Äç‚ôÄÔ∏è', 'üèÑ‚Äç‚ôÇÔ∏è', 'üèä‚Äç‚ôÄÔ∏è', 'üèä‚Äç‚ôÇÔ∏è', 'ü§Ω‚Äç‚ôÄÔ∏è', 'ü§Ω‚Äç‚ôÇÔ∏è', 'üö£‚Äç‚ôÄÔ∏è', 'üö£‚Äç‚ôÇÔ∏è', 'üßó‚Äç‚ôÄÔ∏è', 'üßó‚Äç‚ôÇÔ∏è', 'üöµ‚Äç‚ôÄÔ∏è', 'üöµ‚Äç‚ôÇÔ∏è', 'üö¥‚Äç‚ôÄÔ∏è', 'üö¥‚Äç‚ôÇÔ∏è', 'üèÜ', 'ü•á', 'ü•à', 'ü•â', 'üèÖ', 'üéñÔ∏è', 'üèµÔ∏è', 'üéóÔ∏è', 'üé´', 'üéüÔ∏è', 'üé™', 'ü§π‚Äç‚ôÄÔ∏è', 'ü§π‚Äç‚ôÇÔ∏è', 'üé≠', 'üé®', 'üé¨', 'üé§', 'üéß', 'üéº', 'üéµ', 'üé∂', 'ü•Å', 'üé∑', 'üé∫', 'üé∏', 'ü™ï', 'üéª', 'üé≤', '‚ôüÔ∏è', 'üéØ', 'üé≥', 'üéÆ', 'üé∞', 'üß©'],
      travel: ['üöó', 'üöï', 'üöô', 'üöå', 'üöé', 'üèéÔ∏è', 'üöì', 'üöë', 'üöí', 'üöê', 'üöö', 'üöõ', 'üöú', 'üèçÔ∏è', 'üõ¥', 'üö≤', 'üõµ', 'üèÅ', 'üõ£Ô∏è', 'üõ§Ô∏è', 'üõ¢Ô∏è', '‚õΩ', 'üö®', 'üö•', 'üö¶', 'üõë', 'üöß', '‚öì', '‚õµ', 'üõ∂', 'üö§', 'üõ≥Ô∏è', '‚õ¥Ô∏è', 'üõ•Ô∏è', 'üö¢', '‚úàÔ∏è', 'üõ©Ô∏è', 'üõ´', 'üõ¨', 'ü™Ç', 'üí∫', 'üöÅ', 'üöü', 'üö†', 'üö°', 'üõ∞Ô∏è', 'üöÄ', 'üõ∏', 'üõéÔ∏è', 'üß≥', '‚åõ', '‚è≥', '‚åö', '‚è∞', '‚è±Ô∏è', '‚è≤Ô∏è', 'üï∞Ô∏è', 'üïõ', 'üïß', 'üïê', 'üïú', 'üïë', 'üïù', 'üïí', 'üïû', 'üïì', 'üïü', 'üïî', 'üï†', 'üïï', 'üï°', 'üïñ', 'üï¢', 'üïó', 'üï£', 'üïò', 'üï§', 'üïô', 'üï•', 'üïö', 'üï¶', 'üåç', 'üåé', 'üåè', 'üåê', 'üó∫Ô∏è', 'üóæ', 'üß≠', 'üèîÔ∏è', '‚õ∞Ô∏è', 'üåã', 'üóª', 'üèïÔ∏è', 'üèñÔ∏è', 'üèúÔ∏è', 'üèùÔ∏è', 'üèûÔ∏è', 'üèüÔ∏è', 'üèõÔ∏è', 'üèóÔ∏è', 'üß±', 'üèòÔ∏è', 'üèöÔ∏è', 'üè†', 'üè°', 'üè¢', 'üè£', 'üè§', 'üè•', 'üè¶', 'üè®', 'üè©', 'üè™', 'üè´', 'üè¨', 'üè≠', 'üèØ', 'üè∞', 'üóº', 'üóΩ', '‚õ™', 'üïå', 'üõï', 'üïç', '‚õ©Ô∏è', 'üïã', '‚õ≤', '‚õ∫', 'üåÅ', 'üåÉ', 'üèôÔ∏è', 'üåÑ', 'üåÖ', 'üåÜ', 'üåá', 'üåâ', '‚ô®Ô∏è', 'üé†', 'üé°', 'üé¢', 'üíà', 'üé™', 'üöÇ', 'üöÉ', 'üöÑ', 'üöÖ', 'üöÜ', 'üöá', 'üöà', 'üöâ', 'üöä', 'üöù', 'üöû', 'üöã', 'üöå', 'üöç', 'üöé', 'üöê', 'üöë', 'üöí', 'üöì', 'üöî', 'üöï', 'üöñ', 'üöó', 'üöò', 'üöô', 'üöö', 'üöõ', 'üöú'],
      objects: ['‚åö', 'üì±', 'üì≤', 'üíª', '‚å®Ô∏è', 'üñ•Ô∏è', 'üñ®Ô∏è', 'üñ±Ô∏è', 'üñ≤Ô∏è', 'üïπÔ∏è', 'üóúÔ∏è', 'üíΩ', 'üíæ', 'üíø', 'üìÄ', 'üìº', 'üì∑', 'üì∏', 'üìπ', 'üé•', 'üìΩÔ∏è', 'üéûÔ∏è', 'üìû', '‚òéÔ∏è', 'üìü', 'üì†', 'üì∫', 'üìª', 'üéôÔ∏è', 'üéöÔ∏è', 'üéõÔ∏è', 'üß≠', '‚è±Ô∏è', '‚è≤Ô∏è', '‚è∞', 'üï∞Ô∏è', '‚åõ', '‚è≥', 'üì°', 'üîã', 'üîå', 'üí°', 'üî¶', 'üïØÔ∏è', 'ü™î', 'üßØ', 'üõ¢Ô∏è', 'üí∏', 'üíµ', 'üí¥', 'üí∂', 'üí∑', 'üí∞', 'üí≥', 'üíé', '‚öñÔ∏è', 'üß∞', 'üîß', 'üî®', '‚öíÔ∏è', 'üõ†Ô∏è', '‚õèÔ∏è', 'üî©', '‚öôÔ∏è', 'üß±', '‚õìÔ∏è', 'üß≤', 'üî´', 'üí£', 'üß®', 'ü™ì', 'üî™', 'üó°Ô∏è', '‚öîÔ∏è', 'üõ°Ô∏è', 'üö¨', '‚ö∞Ô∏è', '‚ö±Ô∏è', 'üè∫', 'üîÆ', 'üìø', 'üßø', 'üíà', '‚öóÔ∏è', 'üî≠', 'üî¨', 'üï≥Ô∏è', 'ü©π', 'ü©∫', 'üíä', 'üíâ', 'üß¨', 'ü¶†', 'üß´', 'üß™', 'üå°Ô∏è', 'üßπ', 'üß∫', 'üßª', 'üöΩ', 'üö∞', 'üöø', 'üõÅ', 'üõÄ', 'üßº', 'ü™í', 'üßΩ', 'üß¥', 'üõéÔ∏è', 'üîë', 'üóùÔ∏è', 'üö™', 'ü™ë', 'üõãÔ∏è', 'üõèÔ∏è', 'üõå', 'üß∏', 'üñºÔ∏è', 'üõçÔ∏è', 'üõí', 'üéÅ', 'üéà', 'üéè', 'üéÄ', 'üéä', 'üéâ', 'üéé', 'üèÆ', 'üéê', 'üßß', '‚úâÔ∏è', 'üì©', 'üì®', 'üìß', 'üíå', 'üì•', 'üì§', 'üì¶', 'üè∑Ô∏è', 'üì™', 'üì´', 'üì¨', 'üì≠', 'üìÆ', 'üìØ', 'üìú', 'üìÉ', 'üìÑ', 'üìë', 'üìä', 'üìà', 'üìâ', 'üóíÔ∏è', 'üóìÔ∏è', 'üìÜ', 'üìÖ', 'üìá', 'üóÉÔ∏è', 'üó≥Ô∏è', 'üóÑÔ∏è', 'üìã', 'üìÅ', 'üìÇ', 'üóÇÔ∏è', 'üóûÔ∏è', 'üì∞', 'üìì', 'üìî', 'üìí', 'üìï', 'üìó', 'üìò', 'üìô', 'üìö', 'üìñ', 'üîñ', 'üß∑', 'üîó', 'üìé', 'üñáÔ∏è', 'üìê', 'üìè', 'üßÆ', 'üìå', 'üìç', '‚úÇÔ∏è', 'üñäÔ∏è', 'üñãÔ∏è', '‚úíÔ∏è', 'üñåÔ∏è', 'üñçÔ∏è', 'üìù', '‚úèÔ∏è', 'üîç', 'üîé', 'üîè', 'üîê', 'üîí', 'üîì'],
      symbols: ['‚ù§Ô∏è', 'üß°', 'üíõ', 'üíö', 'üíô', 'üíú', 'üñ§', 'ü§ç', 'ü§é', 'üíî', '‚ù£Ô∏è', 'üíï', 'üíû', 'üíì', 'üíó', 'üíñ', 'üíò', 'üíù', 'üíü', '‚òÆÔ∏è', '‚úùÔ∏è', '‚ò™Ô∏è', 'üïâÔ∏è', '‚ò∏Ô∏è', '‚ú°Ô∏è', 'üîØ', 'üïé', '‚òØÔ∏è', '‚ò¶Ô∏è', 'üõê', '‚õé', '‚ôà', '‚ôâ', '‚ôä', '‚ôã', '‚ôå', '‚ôç', '‚ôé', '‚ôè', '‚ôê', '‚ôë', '‚ôí', '‚ôì', 'üÜî', '‚öõÔ∏è', 'üâë', '‚ò¢Ô∏è', '‚ò£Ô∏è', 'üì¥', 'üì≥', 'üà∂', 'üàö', 'üà∏', 'üà∫', 'üà∑Ô∏è', '‚ú¥Ô∏è', 'üÜö', 'üíÆ', 'üâê', '„äôÔ∏è', '„äóÔ∏è', 'üà¥', 'üàµ', 'üàπ', 'üà≤', 'üÖ∞Ô∏è', 'üÖ±Ô∏è', 'üÜé', 'üÜë', 'üÖæÔ∏è', 'üÜò', '‚ùå', '‚≠ï', 'üõë', '‚õî', 'üìõ', 'üö´', 'üíØ', 'üí¢', '‚ô®Ô∏è', 'üö∑', 'üöØ', 'üö≥', 'üö±', 'üîû', 'üìµ', 'üö≠', '‚ùó', '‚ùï', '‚ùì', '‚ùî', '‚ÄºÔ∏è', '‚ÅâÔ∏è', 'üîÖ', 'üîÜ', '„ÄΩÔ∏è', '‚ö†Ô∏è', 'üö∏', 'üî±', '‚öúÔ∏è', 'üî∞', '‚ôªÔ∏è', '‚úÖ', 'üàØ', 'üíπ', '‚ùáÔ∏è', '‚ú≥Ô∏è', '‚ùé', 'üåê', 'üí†', '‚ìÇÔ∏è', 'üåÄ', 'üí§', 'üèß', 'üöæ', '‚ôø', 'üÖøÔ∏è', 'üà≥', 'üàÇÔ∏è', 'üõÇ', 'üõÉ', 'üõÑ', 'üõÖ', 'üöπ', 'üö∫', 'üöº', 'üöª', 'üöÆ', 'üé¶', 'üì∂', 'üàÅ', 'üî£', '‚ÑπÔ∏è', 'üî§', 'üî°', 'üî†', 'üÜñ', 'üÜó', 'üÜô', 'üÜí', 'üÜï', 'üÜì']
    }

    const titleInput = document.getElementById('title-input');
    const slugInput = document.getElementById('slug-input');
    const contentInput = document.getElementById('content-input');
    const previewSection = document.getElementById('preview-section');
    const previewContent = document.getElementById('preview-content');

    const emojiGrid = document.getElementById('emoji-grid');
    const emojiSearch = document.getElementById('emoji-search');
    const recentSection = document.getElementById('recent-section');
    const recentEmojisWrapper = document.getElementById('recent-emojis');

    let currentCategory = 'smileys';
    let recentEmojis = JSON.parse(localStorage.getItem('recentEmojis') || '[]');

    function slugify(text) {
      return text.toLowerCase().trim().replace(/[\s\W-]+/g, '-');
    }

    titleInput.addEventListener('input', () => {
      if (!slugInput.dataset.manual) {
        slugInput.value = slugify(titleInput.value);
      }
    });

    slugInput.addEventListener('input', () => {
      slugInput.dataset.manual = 'true';
    });

    function updateRecentEmojis() {
      recentEmojisWrapper.innerHTML = '';
      if (recentEmojis.length === 0) {
        recentSection.style.display = 'none';
      } else {
        recentSection.style.display = 'block';
        recentEmojis.forEach(emoji => {
          const btn = document.createElement('button');
          btn.className = 'emoji-btn';
          btn.textContent = emoji;
          btn.onclick = () => insertEmoji(emoji);
          recentEmojisWrapper.appendChild(btn);
        });
      }
    }

    function saveRecentEmoji(emoji) {
      recentEmojis = recentEmojis.filter(e => e !== emoji);
      recentEmojis.unshift(emoji);
      if (recentEmojis.length > 20) recentEmojis.pop();
      localStorage.setItem('recentEmojis', JSON.stringify(recentEmojis));
      updateRecentEmojis();
    }

    function renderEmojis(category, filter = '') {
      emojiGrid.innerHTML = '';
      const list = emojiData[category].filter(e => e.includes(filter));
      list.forEach(emoji => {
        const btn = document.createElement('button');
        btn.className = 'emoji-btn';
        btn.textContent = emoji;
        btn.onclick = () => insertEmoji(emoji);
        emojiGrid.appendChild(btn);
      });
    }

    function insertEmoji(emoji) {
      const start = contentInput.selectionStart;
      const end = contentInput.selectionEnd;
      const value = contentInput.value;
      contentInput.value = value.slice(0, start) + emoji + value.slice(end);
      contentInput.selectionStart = contentInput.selectionEnd = start + emoji.length;
      contentInput.focus();
      saveRecentEmoji(emoji);
      updateLivePreview();
    }

    emojiSearch.addEventListener('input', () => {
      renderEmojis(currentCategory, emojiSearch.value);
    });

    document.querySelectorAll('.emoji-category').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.emoji-category').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentCategory = btn.dataset.category;
        emojiSearch.value = '';
        renderEmojis(currentCategory);
      });
    });

    function toggleEmojiPicker() {
      const picker = document.getElementById('emoji-picker');
      const toggleText = document.getElementById('emoji-toggle-text');
      const hidden = picker.style.display === 'none';
      picker.style.display = hidden ? 'block' : 'none';
      toggleText.textContent = hidden ? 'Hide' : 'Show';
    }

    function updateLivePreview() {
      const text = contentInput.value.trim();
      if (text) {
        previewSection.style.display = 'block';
        previewContent.innerHTML = text
          .split('\n\n')
          .map(p => `<p>${p.replace(/\n/g, '<br>')}</p>`)
          .join('');
      } else {
        previewSection.style.display = 'none';
      }
    }

    // Initial setup
    renderEmojis(currentCategory);
    updateRecentEmojis();
    updateLivePreview();

    contentInput.addEventListener('input', updateLivePreview);
  </script>
</body>
</html>